###FilePath: src/screens/CreditCardReview/index.tsx


import { FC, useCallback } from 'react';
import { View, ScrollView, StatusBar } from 'react-native';
import { useNavigation } from '@react-navigation/native';
import { Button, Label, Checkbox, ListItem } from 'appcomponents';
import { ConfirmFooter } from 'appcomponents/ConfirmFooter';
import { useCreditCardApplication } from 'appfeatures/creditcard/hooks/useCreditCardApplication';
import { CreditCardReviewProps } from './types';
import { getStyles } from './styles';
import { IconContactHeadset } from 'appassets/svg';

const CreditCardReview: FC<CreditCardReviewProps> = (props) => {
  const { navigation } = props;
  const {
    personalDetails,
    monthlyExpenses,
    consentGOSI,
    consentDisclaimer,
    loading,
    allValid,
    setConsentGOSI,
    setConsentDisclaimer,
    handleConfirm,
    handleEditPersonal,
    handleEditExpenses,
    error
  } = useCreditCardApplication();
  const styles = getStyles({ theme: props.theme });

  const handleContactAdvisor = useCallback(() => {
    navigation.navigate('ContactAdvisor');
  }, [navigation]);

  return (
    <ScrollView
      style={styles.container}
      contentInsetAdjustmentBehavior="automatic"
      accessibilityLabel="Credit Card Application Review"
      accessibilityHint="Review and confirm application details"
    >
      <StatusBar barStyle="dark-content" />
      <Label
        text={props.translate('Apply for meem Credit Card')}
        style={styles.header}
      />
      <Label
        text={props.translate(
          "Check your details to make sure everything's accurate before submitting your credit card application."
        )}
        style={styles.subHeader}
      />
      <View style={styles.section}>
        <Label text={props.translate('Personal details')} style={styles.sectionTitle} />
        <ListItem
          label={props.translate('Marital status')}
          value={personalDetails.maritalStatus}
          onEdit={handleEditPersonal}
        />
        <ListItem
          label={props.translate('Family members')}
          value={String(personalDetails.familyMembers)}
          onEdit={handleEditPersonal}
        />
        <ListItem
          label={props.translate('Family members with education fees')}
          value={String(personalDetails.familyEducationMembers)}
          onEdit={handleEditPersonal}
        />
        <Button
          label={props.translate('View more')}
          onPress={handleEditPersonal}
          style={styles.link}
        />
      </View>
      <View style={styles.section}>
        <Label text={props.translate('Monthly expenses')} style={styles.sectionTitle} />
        <ListItem
          label={props.translate('Total monthly expenses')}
          value={String(monthlyExpenses.total)}
          onEdit={handleEditExpenses}
        />
      </View>
      <View style={styles.section}>
        <Checkbox
          label={props.translate(
            'I agree to allow meem to verify my information against the General Organization for Social Insurance'
          )}
          value={consentGOSI}
          onValueChange={setConsentGOSI}
          accessibilityLabel="GOSI Consent"
          accessibilityHint="Allow verification with GOSI"
        />
        <Checkbox
          label={props.translate('I accept the Disclaimer')}
          value={consentDisclaimer}
          onValueChange={setConsentDisclaimer}
          accessibilityLabel="Disclaimer Consent"
          accessibilityHint="Accept disclaimer"
        />
        <Button
          label={props.translate('Contact a Financial Advisor')}
          onPress={handleContactAdvisor}
          icon={<IconContactHeadset color={props.theme.colors['icon-primary']} />}
          style={styles.advisor}
        />
      </View>
      <ConfirmFooter
        loading={loading}
        disabled={!allValid}
        onConfirm={handleConfirm}
        accessibilityLabel="Confirm"
        accessibilityHint="Proceed to submit application"
      />
      {error ? (
        <Label text={props.translate(error)} style={styles.error} />
      ) : null}
    </ScrollView>
  );
};

export { CreditCardReview };
###FilePath: src/screens/CreditCardReview/styles.ts


import { StyleSheet } from 'react-native';
import { CreditCardReviewStyleProps } from './types';

export const getStyles = (props: CreditCardReviewStyleProps) => {
  const { theme } = props;
  return StyleSheet.create({
    container: {
      flex: 1,
      backgroundColor: theme.colors['background-01'],
      paddingHorizontal: 16,
      paddingTop: 60,
    },
    header: {
      color: theme.colors['content-primary'],
      fontSize: 22,
      fontWeight: '700',
      marginBottom: 12,
      marginTop: 4,
    },
    subHeader: {
      color: theme.colors['content-secondary'],
      fontSize: 15,
      marginBottom: 20,
    },
    section: {
      backgroundColor: theme.colors['background-02'],
      borderRadius: 8,
      padding: 16,
      marginBottom: 20,
    },
    sectionTitle: {
      color: theme.colors['content-primary'],
      fontSize: 18,
      marginBottom: 10,
      fontWeight: '600',
    },
    link: {
      color: theme.colors['brand-01'],
      fontSize: 16,
      marginTop: 8,
      fontWeight: '500',
      alignSelf: 'flex-start',
    },
    advisor: {
      marginTop: 18,
      alignSelf: 'center',
    },
    error: {
      color: theme.colors['content-interactive-primary-enabled'],
      fontSize: 14,
      marginTop: 8,
      textAlign: 'center',
    },
  });
};
###FilePath: src/screens/CreditCardReview/types.ts


import { Theme } from 'react-core';
import { ViewStyle } from 'react-native';

export interface CreditCardReviewProps {
  theme: Theme;
  translate: (key: string) => string;
  navigation: any;
}

export interface CreditCardReviewStyleProps {
  theme: Theme;
}
###FilePath: src/features/creditcard/hooks/useCreditCardApplication.ts


import { useState, useMemo, useCallback } from 'react';
import { useAppDispatch, useAppSelector } from 'appredux/hooks';
import { setConsentGOSI, setConsentDisclaimer, submitCreditCardApp } from 'appredux/toolkit-store/creditcard-slice';

export const useCreditCardApplication = () => {
  const dispatch = useAppDispatch();
  const personalDetails = useAppSelector((state) => state.creditcard.personalDetails);
  const monthlyExpenses = useAppSelector((state) => state.creditcard.monthlyExpenses);
  const consentGOSI = useAppSelector((state) => state.creditcard.consentGOSI);
  const consentDisclaimer = useAppSelector((state) => state.creditcard.consentDisclaimer);
  const loading = useAppSelector((state) => state.creditcard.loading);
  const error = useAppSelector((state) => state.creditcard.error);

  const allValid = useMemo(
    () =>
      personalDetails?.maritalStatus &&
      monthlyExpenses?.total &&
      consentGOSI &&
      consentDisclaimer,
    [personalDetails, monthlyExpenses, consentGOSI, consentDisclaimer]
  );

  const setConsentGOSIHandler = useCallback(
    (value: boolean) => dispatch(setConsentGOSI(value)),
    [dispatch]
  );
  const setConsentDisclaimerHandler = useCallback(
    (value: boolean) => dispatch(setConsentDisclaimer(value)),
    [dispatch]
  );
  const handleConfirm = useCallback(() => {
    dispatch(submitCreditCardApp());
  }, [dispatch]);

  const handleEditPersonal = useCallback(() => {
    // navigation logic can be added here for edit screen
  }, []);
  const handleEditExpenses = useCallback(() => {
    // navigation logic can be added here for edit expenses screen
  }, []);

  return {
    personalDetails,
    monthlyExpenses,
    consentGOSI,
    consentDisclaimer,
    loading,
    error,
    allValid,
    setConsentGOSI: setConsentGOSIHandler,
    setConsentDisclaimer: setConsentDisclaimerHandler,
    handleConfirm,
    handleEditPersonal,
    handleEditExpenses,
  };
};
###FilePath: src/features/creditcard/schemas/review-schema.ts


import * as yup from 'yup';

export const ReviewFormSchema = yup.object().shape({
  maritalStatus: yup.string().required('Marital status is required'),
  familyMembers: yup
    .number()
    .min(1, 'Minimum 1 family member')
    .required('Family members required'),
  familyEducationMembers: yup
    .number()
    .min(0)
    .required('Education members required'),
  monthlyExpenses: yup.number().min(0).required('Monthly expenses required'),
  consentGOSI: yup.boolean().oneOf([true], 'GOSI consent required'),
  consentDisclaimer: yup.boolean().oneOf([true], 'Disclaimer consent required'),
});

export const ReviewFormInitialValues = {
  maritalStatus: '',
  familyMembers: 0,
  familyEducationMembers: 0,
  monthlyExpenses: 0,
  consentGOSI: false,
  consentDisclaimer: false,
};
###FilePath: src/features/creditcard/types/index.ts


export interface PersonalDetails {
  maritalStatus: string;
  familyMembers: number;
  familyEducationMembers: number;
}

export interface MonthlyExpenses {
  total: number;
}

export interface CreditCardReviewState {
  personalDetails: PersonalDetails;
  monthlyExpenses: MonthlyExpenses;
  consentGOSI: boolean;
  consentDisclaimer: boolean;
  loading: boolean;
  error?: string | null;
}
###FilePath: src/redux/toolkit-store/creditcard-slice.ts


import { createSlice, PayloadAction } from '@reduxjs/toolkit';
import { CreditCardReviewState, PersonalDetails, MonthlyExpenses } from 'appfeatures/creditcard/types';

const initialState: CreditCardReviewState = {
  personalDetails: {
    maritalStatus: '',
    familyMembers: 0,
    familyEducationMembers: 0,
  },
  monthlyExpenses: {
    total: 0,
  },
  consentGOSI: false,
  consentDisclaimer: false,
  loading: false,
  error: null,
};

const creditcardSlice = createSlice({
  name: 'creditcard',
  initialState,
  reducers: {
    setPersonalDetails(state, action: PayloadAction<PersonalDetails>) {
      state.personalDetails = action.payload;
    },
    setMonthlyExpenses(state, action: PayloadAction<MonthlyExpenses>) {
      state.monthlyExpenses = action.payload;
    },
    setConsentGOSI(state, action: PayloadAction<boolean>) {
      state.consentGOSI = action.payload;
    },
    setConsentDisclaimer(state, action: PayloadAction<boolean>) {
      state.consentDisclaimer = action.payload;
    },
    setLoading(state, action: PayloadAction<boolean>) {
      state.loading = action.payload;
    },
    setError(state, action: PayloadAction<string | null>) {
      state.error = action.payload;
    },
    submitCreditCardApp(state) {
      state.loading = true;
      // Simulate submit, handle async in thunk or RTK Query
    },
  },
});

export const {
  setPersonalDetails,
  setMonthlyExpenses,
  setConsentGOSI,
  setConsentDisclaimer,
  setLoading,
  setError,
  submitCreditCardApp,
} = creditcardSlice.actions;

export default creditcardSlice.reducer;
###FilePath: src/navigation/types.ts


import { NativeStackNavigationProp } from '@react-navigation/native-stack';
import { RouteProp } from '@react-navigation/core';

export type RootStackParamList = {
  CreditCardReview: undefined;
  CreditCardEditPersonal: undefined;
  CreditCardEditExpenses: undefined;
  ContactAdvisor: undefined;
};

export type CreditCardReviewNavigationProp = NativeStackNavigationProp<
  RootStackParamList,
  'CreditCardReview'
>;

export interface CreditCardReviewScreenProps {
  navigation: CreditCardReviewNavigationProp;
}
###FilePath: src/components/ListItem/index.tsx


import { FC, memo } from 'react';
import { View, Text, Pressable } from 'react-native';
import { ListItemProps } from './types';
import { getStyles } from './styles';

const ListItem: FC<ListItemProps> = memo((props) => {
  const { label, value, onEdit } = props;
  const styles = getStyles(props);

  return (
    <View style={styles.container}>
      <Text style={styles.label}>{label}</Text>
      <Text style={styles.value}>{value}</Text>
      {onEdit && (
        <Pressable
          onPress={onEdit}
          style={styles.edit}
          accessibilityLabel="Edit"
          accessibilityHint={`Edit ${label}`}
        >
          <Text style={styles.editText}>Edit</Text>
        </Pressable>
      )}
    </View>
  );
});
export { ListItem };
###FilePath: src/components/ListItem/styles.ts


import { StyleSheet } from 'react-native';
import { ListItemStyleProps } from './types';

export const getStyles = (props: ListItemStyleProps) => {
  const { theme } = props;

  return StyleSheet.create({
    container: {
      flexDirection: 'row',
      alignItems: 'center',
      paddingVertical: 12,
      borderBottomWidth: 1,
      borderBottomColor: theme.colors['border-enabled-01'],
    },
    label: {
      color: theme.colors['content-secondary'],
      fontSize: 15,
      flex: 2,
    },
    value: {
      color: theme.colors['content-primary'],
      fontWeight: '600',
      fontSize: 16,
      flex: 1,
      textAlign: 'right',
    },
    edit: {
      marginLeft: 12,
    },
    editText: {
      color: theme.colors['brand-01'],
      fontWeight: '500',
      fontSize: 14,
    },
  });
};
###FilePath: src/components/ListItem/types.ts


import { Theme } from 'react-core';

export interface ListItemProps {
  theme: Theme;
  label: string;
  value?: string;
  onEdit?: () => void;
}

export interface ListItemStyleProps {
  theme: Theme;
}
###FilePath: src/components/ConfirmFooter/index.tsx


import { FC } from 'react';
import { View } from 'react-native';
import { Button } from 'appcomponents';
import { ConfirmFooterProps } from './types';
import { getStyles } from './styles';

const ConfirmFooter: FC<ConfirmFooterProps> = (props) => {
  const styles = getStyles(props);

  return (
    <View style={styles.container}>
      <Button
        label={props.label ?? 'Confirm'}
        onPress={props.onConfirm}
        loading={props.loading}
        disabled={props.disabled}
        accessibilityLabel="Confirm"
        accessibilityHint="Submit credit card application"
      />
    </View>
  );
};

export { ConfirmFooter };
###FilePath: src/components/ConfirmFooter/styles.ts


import { StyleSheet } from 'react-native';
import { ConfirmFooterStyleProps } from './types';

export const getStyles = (props: ConfirmFooterStyleProps) => {
  const { theme } = props;
  return StyleSheet.create({
    container: {
      marginVertical: 18,
      paddingHorizontal: 8,
      alignItems: 'center',
      width: '100%',
    },
  });
};
###FilePath: src/components/ConfirmFooter/types.ts


import { Theme } from 'react-core';

export interface ConfirmFooterProps {
  theme: Theme;
  onConfirm: () => void;
  loading: boolean;
  disabled: boolean;
  label?: string;
}

export interface ConfirmFooterStyleProps {
  theme: Theme;
}

###FilePath: src/components/Button/index.tsx


import { FC, memo, useMemo } from 'react';
import { Pressable, View, Text, ActivityIndicator } from 'react-native';
import { ButtonProps } from './types';
import { getStyles } from './styles';

const Button: FC<ButtonProps> = memo((props) => {
  const { label, onPress, disabled, loading, style, theme, icon, accessibilityLabel, accessibilityHint } = props;
  const styles = useMemo(() => getStyles({ theme, disabled }), [theme, disabled]);

  return (
    <Pressable
      style={[styles.button, style]}
      onPress={onPress}
      disabled={disabled || loading}
      accessibilityLabel={accessibilityLabel}
      accessibilityHint={accessibilityHint}
      accessibilityRole="button"
    >
      <View style={styles.buttonContent}>
        {icon && <View style={styles.icon}>{icon}</View>}
        {loading ? (
          <ActivityIndicator color={theme.colors['content-inverted-primary']} />
        ) : (
          <Text style={styles.text}>{label}</Text>
        )}
      </View>
    </Pressable>
  );
});
export { Button };
###FilePath: src/components/Button/styles.ts


import { StyleSheet } from 'react-native';
import { ButtonStyleProps } from './types';

export const getStyles = (props: ButtonStyleProps) => {
  const { theme, disabled } = props;
  return StyleSheet.create({
    button: {
      minHeight: 56,
      paddingHorizontal: 24,
      paddingVertical: 16,
      borderRadius: 28,
      backgroundColor: disabled
        ? theme.colors['surface-02']
        : theme.colors['surface-interactive-primary-enabled'],
      alignItems: 'center',
      justifyContent: 'center',
      flexDirection: 'row',
      opacity: disabled ? 0.5 : 1,
    },
    buttonContent: {
      flexDirection: 'row',
      alignItems: 'center',
      justifyContent: 'center',
      gap: 10,
    },
    icon: {
      marginRight: 8,
    },
    text: {
      color: theme.colors['content-inverted-primary'],
      fontSize: 18,
      fontWeight: '700',
      letterSpacing: 0.1,
    },
  });
};
###FilePath: src/components/Button/types.ts


import { Theme } from 'react-core';
import { ViewStyle } from 'react-native';

export interface ButtonProps {
  theme: Theme;
  label: string;
  onPress: () => void;
  disabled?: boolean;
  loading?: boolean;
  style?: ViewStyle;
  icon?: React.ReactNode;
  accessibilityLabel?: string;
  accessibilityHint?: string;
}

export interface ButtonStyleProps {
  theme: Theme;
  disabled?: boolean;
}
###FilePath: src/components/Checkbox/index.tsx


import { FC, memo } from 'react';
import { Pressable, View, Text } from 'react-native';
import { CheckboxProps } from './types';
import { getStyles } from './styles';

const Checkbox: FC<CheckboxProps> = memo(({ value, onValueChange, label, theme, accessibilityLabel, accessibilityHint }) => {
  const styles = getStyles({ theme, checked: value });

  return (
    <Pressable
      onPress={() => onValueChange(!value)}
      style={styles.container}
      accessibilityRole="checkbox"
      accessibilityState={{ checked: value }}
      accessibilityLabel={accessibilityLabel}
      accessibilityHint={accessibilityHint}
    >
      <View style={styles.checkboxBox}>
        {value ? <View style={styles.checkboxSelected} /> : null}
      </View>
      <Text style={styles.label}>{label}</Text>
    </Pressable>
  );
});
export { Checkbox };
###FilePath: src/components/Checkbox/styles.ts


import { StyleSheet } from 'react-native';
import { CheckboxStyleProps } from './types';

export const getStyles = (props: CheckboxStyleProps) => {
  const { theme, checked } = props;

  return StyleSheet.create({
    container: {
      flexDirection: 'row',
      alignItems: 'center',
      marginVertical: 8,
    },
    checkboxBox: {
      width: 22,
      height: 22,
      borderRadius: 6,
      borderWidth: 2,
      borderColor: checked ? theme.colors['brand-01'] : theme.colors['border-enabled-02'],
      backgroundColor: checked ? theme.colors['brand-01'] : theme.colors['surface-01'],
      alignItems: 'center',
      justifyContent: 'center',
      marginRight: 12,
    },
    checkboxSelected: {
      width: 12,
      height: 12,
      borderRadius: 2,
      backgroundColor: theme.colors['content-inverted-primary'],
    },
    label: {
      color: theme.colors['content-primary'],
      fontSize: 16,
      fontWeight: '400',
      flexShrink: 1,
    },
  });
};
###FilePath: src/components/Checkbox/types.ts


import { Theme } from 'react-core';

export interface CheckboxProps {
  theme: Theme;
  value: boolean;
  onValueChange: (checked: boolean) => void;
  label?: string;
  accessibilityLabel?: string;
  accessibilityHint?: string;
}

export interface CheckboxStyleProps {
  theme: Theme;
  checked: boolean;
}
###FilePath: src/components/Label/index.tsx


import { FC, memo } from 'react';
import { Text } from 'react-native';
import { LabelProps } from './types';
import { getStyles } from './styles';

const Label: FC<LabelProps> = memo(({ text, style, theme }) => {
  const styles = getStyles({ theme });
  return <Text style={[styles.text, style]}>{text}</Text>;
});
export { Label };
###FilePath: src/components/Label/styles.ts


import { StyleSheet } from 'react-native';
import { LabelStyleProps } from './types';

export const getStyles = (props: LabelStyleProps) => {
  const { theme } = props;
  return StyleSheet.create({
    text: {
      color: theme.colors['content-primary'],
      fontSize: 15,
      fontWeight: '400',
      paddingVertical: 3,
    },
  });
};
###FilePath: src/components/Label/types.ts


import { Theme } from 'react-core';
import { TextStyle } from 'react-native';

export interface LabelProps {
  text: string;
  style?: TextStyle;
  theme: Theme;
}

export interface LabelStyleProps {
  theme: Theme;
}
###FilePath: src/assets/svg/IconContactHeadset.tsx


import { FC } from 'react';
import Svg, { Path, Circle } from 'react-native-svg';
import { IconContactHeadsetProps } from './types';

const IconContactHeadset: FC<IconContactHeadsetProps> = ({ color = '#673AB7', size = 24 }) => (
  <Svg width={size} height={size} viewBox="0 0 24 24" fill="none" accessibilityLabel="Financial Advisor Icon">
    <Path
      d="M21 12C21 7.03 16.97 3 12 3C7.03 3 3 7.03 3 12"
      stroke={color}
      strokeWidth={2}
      strokeLinecap="round"
      strokeLinejoin="round"
    />
    <Circle
      cx={12}
      cy={12}
      r={9}
      stroke={color}
      strokeWidth={2}
      opacity={0.4}
    />
    <Path
      d="M7 12v2a5 5 0 005 5 5 5 0 005-5v-2"
      stroke={color}
      strokeWidth={2}
      strokeLinecap="round"
      strokeLinejoin="round"
    />
    <Circle
      cx={12}
      cy={17}
      r={1}
      fill={color}
    />
  </Svg>
);

export { IconContactHeadset };
###FilePath: src/assets/svg/types.ts


export interface IconContactHeadsetProps {
  color?: string;
  size?: number;
}
###FilePath: package.json

json
{
  "name": "creditcard-app",
  "version": "1.0.0",
  "scripts": {
    "android": "react-native run-android",
    "ios": "react-native run-ios",
    "start": "react-native start"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-native": "^0.73.0",
    "@react-navigation/native": "^6.1.0",
    "@react-navigation/stack": "^6.3.0",
    "@reduxjs/toolkit": "^2.0.0",
    "react-redux": "^9.0.0",
    "axios": "^1.6.0",
    "formik": "^2.4.0",
    "yup": "^1.3.0",
    "react-native-safe-area-context": "^4.8.0",
    "react-native-svg": "^14.0.0",
    "react-native-gesture-handler": "^2.14.0",
    "react-native-reanimated": "^3.6.0",
    "react-native-size-matters": "^0.4.0",
    "moment-hijri": "^2.1.2"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-native": "^0.73.0",
    "typescript": "^5.3.0",
    "babel-plugin-module-resolver": "^5.0.0"
  }
}
###FilePath: babel.config.js


module.exports = {
  presets: ['module:metro-react-native-babel-preset'],
  plugins: [
    ['module-resolver', {
      root: ['./src'],
      alias: {
        'app': './src',
        'appcomponents': './src/components',
        'appscreens': './src/screens',
        'appfeatures': './src/features',
        'appnavigation': './src/navigation',
        'appservices': './src/services',
        'appredux': './src/redux',
        'apphooks': './src/hooks',
        'apputils': './src/utils',
        'appconstants': './src/constants',
        'appassets': './src/assets',
        'apptypes': './src/types'
      }
    }],
    'react-native-reanimated/plugin'
  ]
};
###FilePath: tsconfig.json

json
{
  "compilerOptions": {
    "target": "esnext",
    "module": "commonjs",
    "lib": ["es2017"],
    "jsx": "react-native",
    "strict": true,
    "moduleResolution": "node",
    "baseUrl": ".",
    "paths": {
      "app/*": ["src/*"],
      "appcomponents/*": ["src/components/*"],
      "appscreens/*": ["src/screens/*"],
      "appfeatures/*": ["src/features/*"],
      "appnavigation/*": ["src/navigation/*"],
      "appservices/*": ["src/services/*"],
      "appredux/*": ["src/redux/*"],
      "apphooks/*": ["src/hooks/*"],
      "apputils/*": ["src/utils/*"],
      "appconstants/*": ["src/constants/*"],
      "appassets/*": ["src/assets/*"],
      "apptypes/*": ["src/types/*"]
    }
  }
}